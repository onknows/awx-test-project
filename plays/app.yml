---
- name: app
  hosts: app
  become: yes

  roles:
    - { role: c2platform.core.java, tags: ["java"] }
  #  - { role: c2platform.tomcat, tags: ["tomcat"] }

  tasks:
    - block:
        - command:
            cmd: "ls {{ playbook_dir }}"
          register: cmd1
        - command:
            cmd: "ls {{ inventory_dir }}/requirements_collections"
          register: cmd2
      delegate_to: localhost

    - copy: # debug
        content: "{{ {'cmd1': cmd1, 'cmd2': cmd2  }|to_nice_yaml }}"
        dest: /tmp/cmd.yml
